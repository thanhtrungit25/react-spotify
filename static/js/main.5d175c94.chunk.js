(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a(46)},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(17),c=a.n(s),i=a(3),o=a(2),u=a(1),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER_SUCCESS":return Object(u.a)({},e,{fetchUserError:!1,user:t.user});case"FETCH_USER_ERROR":return Object(u.a)({},e,{fetchUserError:!0});case"ADD_SONG_TO_LIBRARY_SUCCESS":return Object(u.a)({},e,{songAddedToLibrary:!0,songId:t.songId});case"ADD_SONG_TO_LIBRARY_ERROR":return Object(u.a)({},e,{songAddedToLibrary:!1});default:return e}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TOKEN":return Object(u.a)({},e,{token:t.token});default:return e}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PLAYLIST_MENU_PENDING":return Object(u.a)({},e,{fetchPlaylistPending:!0});case"FETCH_PLAYLIST_MENU_SUCCESS":return Object(u.a)({},e,{playlistMenu:t.playlists,fetchPlaylistPending:!1,fetchPlaylistError:!1});case"FETCH_PLAYLIST_MENU_ERROR":return Object(u.a)({},e,{fetchPlaylistPending:!1,fetchPlaylistError:!0});default:return e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{fetchSongsPending:!0,songPlaying:!1,timeElapsed:0,songId:0,viewType:"songs",songPaused:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SONGS_PENDING":return Object(u.a)({},e,{fetchSongsPending:!0});case"FETCH_SONGS_SUCCESS":return Object(u.a)({},e,{songs:t.songs,fetchSongsError:!1,fetchSongsPending:!1,viewType:"songs"});case"FETCH_SONGS_ERROR":return Object(u.a)({},e,{fetchSongsError:!0,fetchSongsPending:!1});case"FETCH_RECENTLY_PLAYED_PENDING":return Object(u.a)({},e,{fetchRecentlyPlayedPending:!0});case"FETCH_RECENTLY_PLAYED_SUCCESS":return Object(u.a)({},e,{songs:t.songs,fetchRecentlyPlayedPending:!1,fetchRecentlyPlayedError:!1});case"FETCH_RECENTLY_PLAYED_ERROR":return Object(u.a)({},e,{fetchRecentlyPlayedPending:!1,fetchRecentlyPlayedError:!0});case"FETCH_PLAYLIST_SONGS_PENDING":return Object(u.a)({},e,{fetchSongsPending:!0});case"FETCH_PLAYLIST_SONGS_SUCCESS":return Object(u.a)({},e,{songs:t.songs,fetchSongsError:!1,fetchSongsPending:!1,viewType:"playlist"});case"FETCH_PLAYLIST_SONGS_ERROR":return Object(u.a)({},e,{fetchSongsError:!0,fetchPSongsPending:!1});case"PLAY_SONG":return Object(u.a)({},e,{songPlaying:!0,songDetails:t.song,timeElapsed:0,songId:t.song.id,songPaused:!1});case"STOP_SONG":return Object(u.a)({},e,{songPlaying:!1,songDetails:null,timeElapsed:0,songPaused:!0});case"PAUSE_SONG":return Object(u.a)({},e,{songPaused:!0});case"RESUME_SONG":return Object(u.a)({},e,{songPaused:!1});case"INCREASE_SONG_TIME":return Object(u.a)({},e,{timeElapsed:t.time});case"UPDATE_VIEW_TYPE":return Object(u.a)({},e,{viewType:t.view});default:return e}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ALBUMS_PENDING":return Object(u.a)({},e,{fetchAlbumsPending:!0});case"FETCH_ALBUMS_SUCCESS":return Object(u.a)({},e,{albums:t.albums,fetchAlbumsPending:!1,fetchAlbumsError:!1});case"FETCH_ALBUMS_ERROR":return Object(u.a)({},e,{etchAlbumsPending:!1,fetchAlbumsError:!0});default:return e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{artistIds:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ARTISTS_PENDING":return Object(u.a)({},e,{fetchArtistsPending:!0});case"FETCH_ARTISTS_SUCCESS":return Object(u.a)({},e,{artists:t.artists,fetchArtistsError:!1,fetchArtistsPending:!1});case"FETCH_ARTISTS_ERROR":return Object(u.a)({},e,{fetchArtistsError:!0,fetchArtistsPending:!1});case"SET_ARTIST_IDS":return Object(u.a)({},e,{artistIds:t.artistIds});default:return e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{title:"Songs"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_HEADER_TITLE":return Object(u.a)({},e,{title:t.title});default:return e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CATEGORIES_SUCCESS":return Object(u.a)({},e,{categories:t.categories.items,fetchCategoriesError:!1});case"FETCH_CATEGORIES_ERROR":return Object(u.a)({},e,{fetchCategoriesError:!0});case"FETCH_NEW_RELEASES_SUCCESS":return Object(u.a)({},e,{categories:t.newReleases.items,fetchNewReleasesError:!1});case"FETCH_NEW_RELEASES_ERROR":return Object(u.a)({},e,{fetchNewReleasesError:!0});case"FETCH_FEATURED_SUCCESS":return Object(u.a)({},e,{categories:t.featured.items,fetchFeaturedError:!1});case"FETCH_FEATURED_ERROR":return Object(u.a)({},e,{fetchFeaturedError:!0});default:return e}},S=Object(i.c)({userReducer:l,tokenReducer:d,playlistReducer:m,songsReducer:p,albumsReducer:E,artistsReducer:g,uiReducer:f,browseReducer:h}),y=a(21),R=a(4),_=a(5),b=a(7),v=a(6),N=a(8),O=function(e){return function(t){var a=new Request("https://api.spotify.com/v1/me",{headers:new Headers({Authorization:"Bearer "+e})});fetch(a).then(function(e){return e.json()}).then(function(e){e.error&&401===e.error.status&&(window.location.href="./"),t(function(e){return{type:"FETCH_USER_SUCCESS",user:e}}(e))}).catch(function(e){t({type:"FETCH_USER_ERROR"})})}},T=function(e,t){return function(a){var n=new Request("https://api.spotify.com/v1/me/tracks?ids=".concat(t),{method:"PUT",headers:new Headers({Authorization:"Bearer "+e})});fetch(n).then(function(e){e.ok&&a({type:"ADD_SONG_TO_LIBRARY_SUCCESS",songId:t})}).catch(function(e){a({type:"ADD_SONG_TO_LIBRARY_ERROR"})})}},C=function(e){return{type:"SET_TOKEN",token:e}},P=a(10),A=function(e,t){return function(a){var n=new Request("https://api.spotify.com/v1/artists?ids=".concat(t),{headers:new Headers({Authorization:"Bearer "+e})});a({type:"FETCH_ARTISTS_PENDING"}),fetch(n).then(function(e){return e.json()}).then(function(e){a({type:"FETCH_ARTISTS_SUCCESS",artists:e.artists})}).catch(function(e){a({type:"FETCH_ARTISTS_ERROR"})})}},k=function(e){return function(t){var a=new Request("https://api.spotify.com/v1/me/tracks?limit=50",{headers:new Headers({Authorization:"Bearer "+e})});t({type:"FETCH_SONGS_PENDING"}),fetch(a).then(function(e){return e.json()}).then(function(e){var a=Object(P.uniqBy)(e.items,function(e){return e.track.artists[0].name}).map(function(e){return e.track.artists[0].id}).join(",");t(function(e){return{type:"SET_ARTIST_IDS",artistIds:e}}(a)),t({type:"FETCH_SONGS_SUCCESS",songs:e.items})}).catch(function(e){t({type:"FETCH_SONGS_ERROR"})})}},w=function(e){return function(t){var a=new Request("https://api.spotify.com/v1/me/player/recently-played",{headers:new Headers({Authorization:"Bearer "+e})});t({type:"FETCH_RECENTLY_PLAYED_PENDING"}),fetch(a).then(function(e){return e.json()}).then(function(e){e.items=Object(P.uniqBy)(e.items,function(e){return e.track.id}),t({type:"FETCH_RECENTLY_PLAYED_SUCCESS",songs:e.items})}).catch(function(e){t({type:"FETCH_RECENTLY_PLAYED_ERROR"})})}},j=function(e){return{type:"PLAY_SONG",song:e}},I=function(){return{type:"STOP_SONG"}},H=function(){return{type:"PAUSE_SONG"}},F=function(){return{type:"RESUME_SONG"}},L=function(e){return{type:"INCREASE_SONG_TIME",time:e}},U=function(e){return{type:"UPDATE_VIEW_TYPE",view:e}},D=(a(32),a(33),function(e){var t=e.fetchRecentlyPlayed,a=e.fetchSongs,n=e.fetchAlbums,s=e.fetchArtists,c=e.updateHeaderTitle,i=e.updateViewType,o=e.fetchFeatured,u=e.token,l=e.artistIds;return r.a.createElement("ul",{className:"side-menu-container"},r.a.createElement("li",{onClick:function(){return c("Browse"),i("Featured"),void o(u)},className:"side-menu-item browse"},"Browse"),r.a.createElement("li",{className:"side-menu-item radio"},"Radio"),r.a.createElement("h3",{className:"user-library-header"},"Your Library"),[{name:"Recently Played",action:t},{name:"Songs",action:a},{name:"Albums",action:n},{name:"Artists",action:s,getArtists:!0}].map(function(e){return r.a.createElement("li",{key:e.name,onClick:function(){var t;e.getArtists?e.action(u,l):e.action(u),t=e.name,c(t),i(t)},className:"side-menu-item"},e.name)}))}),G=function(e){return function(t){var a=new Request("https://api.spotify.com/v1/me/albums",{headers:new Headers({Authorization:"Bearer "+e})});t({type:"FETCH_ALBUMS_PENDING"}),fetch(a).then(function(e){return e.json()}).then(function(e){t({type:"FETCH_ALBUMS_SUCCESS",albums:e.items})}).catch(function(e){t({type:"FETCH_ALBUMS_ERROR"})})}},Y=function(e){return function(t){var a=new Request("https://api.spotify.com/v1/browse/categories",{headers:new Headers({Authorization:"Bearer "+e})});fetch(a).then(function(e){return e.json()}).then(function(e){t({type:"FETCH_CATEGORIES_SUCCESS",categories:e.categories})}).catch(function(e){t({type:"FETCH_CATEGORIES_ERROR"})})}},M=function(e){return function(t){var a=new Request("https://api.spotify.com/v1/browse/new-releases",{headers:new Headers({Authorization:"Bearer "+e})});fetch(a).then(function(e){return e.json()}).then(function(e){t({type:"FETCH_NEW_RELEASES_SUCCESS",newReleases:e.albums})}).catch(function(e){t({type:"FETCH_NEW_RELEASES_ERROR"})})}},B=function(e){return function(t){var a=new Request("https://api.spotify.com/v1/browse/featured-playlists",{headers:new Headers({Authorization:"Bearer "+e})});fetch(a).then(function(e){return e.json()}).then(function(e){console.log(e),t({type:"FETCH_FEATURED_SUCCESS",featured:e.playlists})}).catch(function(e){t({type:"FETCH_FEATURED_ERROR"})})}},q=function(e){return{type:"UPDATE_HEADER_TITLE",title:e}},z=Object(o.b)(function(e){return{userId:e.userReducer.user?e.userReducer.user.id:"",token:e.tokenReducer.token?e.tokenReducer.token:"",artistIds:e.artistsReducer.artistIds}},function(e){return Object(i.b)({fetchSongs:k,fetchRecentlyPlayed:w,fetchAlbums:G,fetchArtists:A,updateViewType:U,updateHeaderTitle:q,fetchFeatured:B},e)})(D),W=(a(34),function(e){function t(){return Object(R.a)(this,t),Object(b.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(_.a)(t,[{key:"componentWillReceiveProps",value:function(e){""!==e.userId&&""!==e.token&&""===e.playlistMenu&&this.props.fetchPlaylistsMenu(e.userId,e.token)}},{key:"renderPlaylists",value:function(){var e=this;return this.props.playlistMenu.map(function(t){return r.a.createElement("li",{onClick:function(){e.props.fetchPlaylistSongs(t.owner.id,t.id,e.props.token),e.props.updateHeaderTitle(t.name)},className:"user-playlist-item",key:t.id},t.name)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"user-playlist-container"},r.a.createElement("h3",{className:"user-playlist-header"},"Playlists"),this.props.playlistMenu&&this.renderPlaylists())}}]),t}(r.a.Component)),x=function(e,t){return function(a){var n=new Request("https://api.spotify.com/v1/users/".concat(e,"/playlists"),{headers:new Headers({Authorization:"Bearer "+t})});a({type:"FETCH_PLAYLIST_MENU_PENDING"}),fetch(n).then(function(e){return e.json()}).then(function(e){a({type:"FETCH_PLAYLIST_MENU_SUCCESS",playlists:e.items})}).catch(function(e){a({type:"FETCH_PLAYLIST_MENU_ERROR"})})}},V=function(e,t,a){return function(n){var r=new Request("https://api.spotify.com/v1/users/".concat(e,"/playlists/").concat(t,"/tracks"),{headers:new Headers({Authorization:"Bearer "+a})});n({type:"FETCH_PLAYLIST_SONGS_PENDING"}),fetch(r).then(function(e){return e.json()}).then(function(e){n({type:"FETCH_PLAYLIST_SONGS_SUCCESS",songs:e.items})}).catch(function(e){n({type:"FETCH_PLAYLIST_SONGS_ERROR"})})}},X=Object(o.b)(function(e){return{userId:e.userReducer.user?e.userReducer.user.id:"",playlistMenu:e.playlistReducer.playlistMenu?e.playlistReducer.playlistMenu:"",token:e.tokenReducer.token?e.tokenReducer.token:""}},function(e){return Object(i.b)({fetchPlaylistsMenu:x,fetchPlaylistSongs:V,updateHeaderTitle:q},e)})(W),J=(a(35),function(e){function t(){return Object(R.a)(this,t),Object(b.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"album-artwork-container"},this.props.albumArtwork&&r.a.createElement("img",{className:"album-artwork",src:this.props.albumArtwork,alt:"altwork"}))}}]),t}(n.Component)),K=Object(o.b)(function(e){return{albumArtwork:e.songsReducer.songDetails?e.songsReducer.songDetails.album.images[0].url:""}})(J),Q=(a(36),function(e){e.songPlaying;var t,a=e.songPaused,n=e.pauseSong,s=e.resumeSong,c=e.headerTitle,i=e.viewType,o=e.playlistMenu,u=e.fetchCategories,l=e.updateViewType,d=e.updateHeaderTitle,m=e.fetchNewReleases,p=e.fetchFeatured,E=e.token;return"playlist"===i&&(t=o.filter(function(e){return e.name===c})[0]),r.a.createElement("div",null,r.a.createElement("div",{className:"section-title"},"playlist"===i&&r.a.createElement("div",{className:"playlist-title-container"},r.a.createElement("div",{className:"playlist-image-container"},r.a.createElement("img",{className:"playlist-image",src:t.images[0]?t.images[0].url:null,alt:"playlist"})),r.a.createElement("div",{className:"playlist-info-container"},r.a.createElement("p",{className:"playlist-text"},"PLAYLIST"),r.a.createElement("h3",{className:"header-title"},c),r.a.createElement("p",{className:"created-by"},"Created By:"," ",r.a.createElement("span",{className:"lighter-text"},t.owner.display_name),"- ",t.tracks.total," songs"),r.a.createElement("button",{onClick:a?s:n,className:"main-pause-play-btn"},a?"PLAY":"PAUSE"))),("songs"===i||"Recently Played"===c||"Albums"===c||"Artists"===c)&&r.a.createElement("div",null,r.a.createElement("h3",{className:"header-title"},c),r.a.createElement("button",{onClick:a?s:n,className:"main-pause-play-btn"},a?"PLAY":"PAUSE")),"Browse"===c&&r.a.createElement("div",null,r.a.createElement("h3",{className:"header-title"},c),r.a.createElement("div",{className:"browse-headers"},r.a.createElement("p",{className:"Genres"===i?"active":"",onClick:function(){u(E),l("Genres"),d("Browse")}},"Genres"),r.a.createElement("p",{className:"New Releases"===i?"active":"",onClick:function(){m(E),l("New Releases"),d("Browse")}},"New Releases"),r.a.createElement("p",{className:"Featured"===i?"active":"",onClick:function(){p(E),l("Featured"),d("Browse")}},"Featured")))))}),Z=Object(o.b)(function(e){return{songPlaying:e.songsReducer.songPlaying,songPaused:e.songsReducer.songPaused,viewType:e.songsReducer.viewType,headerTitle:e.uiReducer.title,playlistMenu:e.playlistReducer.playlistMenu,token:e.tokenReducer.token}},function(e){return Object(i.b)({fetchCategories:Y,updateHeaderTitle:q,updateViewType:U,fetchNewReleases:M,fetchFeatured:B},e)})(Q),$=a(22),ee=a.n($),te=(a(37),function(e){function t(){return Object(R.a)(this,t),Object(b.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(_.a)(t,[{key:"componentWillReceiveProps",value:function(e){""!==e.token&&e.fetchSongsPending&&!e.fetchSongsError&&this.props.fetchSongs(e.token)}},{key:"msToMinutesAndSeconds",value:function(e){var t=Math.floor(e/6e4),a=(e%6e4/1e3).toFixed(0);return t+":"+(a<10?"0":"")+a}},{key:"renderSongs",value:function(){var e=this;return this.props.songs.map(function(t){var a=t.track.id!==e.props.songId||e.props.songPaused?"fa-play-circle-o":"fa-pause-circle-o",n=function(t){return t.track.id===e.props.songId};return r.a.createElement("li",{onClick:function(){n(t)&&e.props.songPlaying&&e.props.songPaused?e.props.resumeSong():n(t)&&e.props.songPlaying&&!e.props.songPaused?e.props.pauseSong():e.props.audioControl(t)},className:n(t)?"active user-song-item":"user-song-item",key:t.track.id},r.a.createElement("div",{className:"play-song"},r.a.createElement("i",{className:"fa ".concat(a," play-btn"),"aria-hidden":"true"})),"songs"!==e.props.viewType&&r.a.createElement("p",{className:"add-song",onClick:function(){return e.props.addSongToLibrary(e.props.token,t.track.id)}},t.track.id===e.props.songAddedId?r.a.createElement("i",{className:"fa fa-check","aria-hidden":"true"}):r.a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})),"songs"===e.props.viewType&&r.a.createElement("p",{className:"add-song"},r.a.createElement("i",{className:"fa fa-check","aria-hidden":"true"})),r.a.createElement("div",{className:"song-title"},r.a.createElement("p",null,t.track.name)),r.a.createElement("div",{className:"song-artist"},r.a.createElement("p",null,t.track.artists[0].name)),r.a.createElement("div",{className:"song-album"},r.a.createElement("p",null,t.track.album.name)),r.a.createElement("div",{className:"song-added"},r.a.createElement("p",null,ee()(t.added_at).format("YYYY-MM-DD"))),r.a.createElement("div",{className:"song-length"},r.a.createElement("p",null,e.msToMinutesAndSeconds(t.track.duration_ms))))})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"song-header-container"},r.a.createElement("div",{className:"song-title-header"},r.a.createElement("p",null,"Title")),r.a.createElement("div",{className:"song-artist-header"},r.a.createElement("p",null,"Artist")),r.a.createElement("div",{className:"song-album-header"},r.a.createElement("p",null,"Album")),r.a.createElement("div",{className:"song-added-header"},r.a.createElement("p",null,r.a.createElement("i",{className:"fa fa-calendar-plus-o","aria-hidden":"true"}))),r.a.createElement("div",{className:"song-length-header"},r.a.createElement("p",null,r.a.createElement("i",{className:"fa fa-clock-o","aria-hidden":"true"})))),this.props.songs&&this.renderSongs())}}]),t}(r.a.Component)),ae=Object(o.b)(function(e){return{token:e.tokenReducer.token?e.tokenReducer.token:"",songs:e.songsReducer.songs?e.songsReducer.songs:"",fetchSongsPending:e.songsReducer.fetchSongsPending,fetchSongsError:e.songsReducer.fetchSongsError,songPlaying:e.songsReducer.songPlaying,songPaused:e.songsReducer.songPaused,songId:e.songsReducer.songId,viewType:e.songsReducer.viewType,songAddedId:e.userReducer.songId||""}},function(e){return Object(i.b)({fetchSongs:k,playSong:j,stopSong:I,addSongToLibrary:T},e)})(te),ne=(a(38),function(e){function t(){return Object(R.a)(this,t),Object(b.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(_.a)(t,[{key:"renderAlbums",value:function(){var e=this;return this.props.songs.map(function(t,a){return r.a.createElement("li",{onClick:function(){return e.props.audioControl(t)},className:"album-item",key:a},r.a.createElement("div",null,t.track.album.images&&r.a.createElement("div",{className:"album-image"},r.a.createElement("img",{src:t.track.album.images[0].url,alt:"album"}),r.a.createElement("div",{className:"play-song"},r.a.createElement("i",{className:"fa fa-play-circle-o play-btn","aria-hidden":"true"}))),r.a.createElement("div",{className:"album-details"},r.a.createElement("p",{className:"album-name"},t.track.album.name),r.a.createElement("p",{className:"artist-name"},t.track.album.artists[0].name))))})}},{key:"render",value:function(){return r.a.createElement("ul",{className:"album-view-container"},this.renderAlbums())}}]),t}(n.Component)),re=Object(o.b)(function(e){return{songs:e.songsReducer.songs?Object(P.uniqBy)(e.songsReducer.songs,function(e){return e.track.album.name}):""}})(ne),se=(a(39),function(e){function t(){return Object(R.a)(this,t),Object(b.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(_.a)(t,[{key:"renderArtists",value:function(){return this.props.artists.map(function(e,t){return e.images[0]&&r.a.createElement("li",{className:"artist-item",key:t},r.a.createElement("a",{href:e.external_urls.spotify},r.a.createElement("div",null,r.a.createElement("div",{className:"artist-image"},r.a.createElement("img",{src:e.images[0]?e.images[0].url:"",alt:"artist"})),r.a.createElement("div",{className:"artist-details"},r.a.createElement("p",null,e.name)))))})}},{key:"render",value:function(){return r.a.createElement("ul",{className:"artist-view-container"},this.props.artists&&this.renderArtists())}}]),t}(n.Component)),ce=Object(o.b)(function(e){return{artists:e.artistsReducer.artists?e.artistsReducer.artists:""}},null)(se),ie=(a(40),function(e){var t,a=e.categories;return a&&(t=a.map(function(e,t){return r.a.createElement("li",{className:"category-item",key:t},r.a.createElement("div",{className:"category-image"},r.a.createElement("img",{src:e.icons?e.icons[0].url:e.images[0].url,alt:"category"}),r.a.createElement("p",{className:"category-name"},e.name)))})),r.a.createElement("ul",{className:"browse-view-container"},t)}),oe=Object(o.b)(function(e){return{categories:e.browseReducer.categories}})(ie),ue=(a(41),function(e){var t=e.audioControl,a=e.headerTitle,n=e.pauseSong,s=e.resumeSong;return r.a.createElement("div",null,"Albums"===a?r.a.createElement(re,{audioControl:t}):"Browse"===a?r.a.createElement(oe,null):"Artists"===a?r.a.createElement(ce,null):r.a.createElement(ae,{audioControl:t,pauseSong:n,resumeSong:s}))}),le=Object(o.b)(function(e){return{headerTitle:e.uiReducer.title}})(ue),de=(a(42),function(e){var t=e.displayName,a=e.userImage;return r.a.createElement("div",{className:"user-details-container"},a?r.a.createElement("img",{className:"user-image",src:a,alt:"user"}):"",r.a.createElement("p",{className:"user-name"},t))}),me=Object(o.b)(function(e){return{displayName:e.userReducer.user?e.userReducer.user.display_name:"",userImage:e.userReducer.user&&e.userReducer.user.images[0]?e.userReducer.user.images[0].url:""}})(de);a(43);function pe(){return r.a.createElement("div",{className:"header"},r.a.createElement(me,null))}a(44);var Ee=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(b.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={timeElapsed:a.props.timeElapsed},a}return Object(N.a)(t,e),Object(_.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.songPlaying||clearInterval(this.state.intervalId),e.songPlaying&&0===e.timeElapsed&&(clearInterval(this.state.intervalId),this.calculateTime()),this.setState({timeElapsed:e.timeElapsed})}},{key:"calculateTime",value:function(){var e=this,t=setInterval(function(){30===e.state.timeElapsed?(clearInterval(e.state.intervalId),e.props.stopSong()):e.props.songPaused||e.props.increaseSongTime(e.state.timeElapsed+1)},1e3);this.setState({intervalId:t})}},{key:"render",value:function(){var e=this.props.songPaused?" fa-play-circle-o play-btn":" fa-pause-circle-o pause-btn";return r.a.createElement("div",{className:"song-player-container"},r.a.createElement("div",{className:"song-details"},r.a.createElement("p",{className:"song-name"},this.props.songName),r.a.createElement("p",{className:"artist-name"},this.props.artistName)),r.a.createElement("div",{className:"song-controls"},r.a.createElement("div",{className:"reverse-song"},r.a.createElement("i",{className:"fa fa-step-backward reverse","aria-hidden":"true"})),r.a.createElement("div",{className:"play-btn"},r.a.createElement("i",{onClick:this.props.songPaused?this.props.resumeSong:this.props.pauseSong,className:"fa play-btn"+e,"aria-hidden":"true"})),r.a.createElement("div",{className:"next-song"},r.a.createElement("i",{className:"fa fa-step-forward forward","aria-hidden":"true"}))),r.a.createElement("div",{className:"song-progress-container"},r.a.createElement("p",{className:"timer-start"},this.state.timeElapsed),r.a.createElement("div",{className:"song-progress"},r.a.createElement("div",{style:{width:16.5*this.state.timeElapsed},className:"song-expired"})),r.a.createElement("p",{className:"timer-end"},30-this.state.timeElapsed)))}}]),t}(n.Component),ge=Object(o.b)(function(e){return{songName:e.songsReducer.songDetails?e.songsReducer.songDetails.name:"",artistName:e.songsReducer.songDetails?e.songsReducer.songDetails.artists[0].name:"",songPlaying:e.songsReducer.songPlaying,songPaused:e.songsReducer.songPaused,timeElapsed:e.songsReducer.timeElapsed}},function(e){return Object(i.b)({playSong:j,increaseSongTime:L},e)})(Ee);a(45);function fe(e){var t=e.pauseSong,a=e.resumeSong,n=e.stopSong;return r.a.createElement("div",{className:"footer"},r.a.createElement(ge,{pauseSong:t,resumeSong:a,stopSong:n}))}var he=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(b.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).pauseSong=function(){a.audio&&(a.props.pauseSong(),a.audio.pause())},a.resumeSong=function(){a.audio&&(a.props.resumeSong(),a.audio.play())},a.stopSong=function(){a.audio&&(a.props.stopSong(),a.audio.pause())},a.audioControl=function(e){void 0===a.audio?(a.props.playSong(e.track),a.audio=new Audio(e.track.preview_url),a.audio.play()):(a.audio.pause(),a.props.stopSong(),a.props.playSong(e.track),a.audio=new Audio(e.track.preview_url),a.audio.play())},a}return Object(N.a)(t,e),Object(_.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.token&&this.props.fetchUser(e.token)}},{key:"componentDidMount",value:function(){for(var e,t={},a=/([^&;=]+)=?([^&;]*)/g,n=window.location.hash.substring(1);e=a.exec(n);)t[e[1]]=decodeURIComponent(e[2]);t.access_token?this.props.setToken(t.access_token):window.location.href="https://accounts.spotify.com/authorize?client_id=06f0c98364d948048c214c9e3ac2fc12&scope=user-read-private%20user-read-email%20user-top-read%20user-read-recently-played%20user-read-playback-state%20user-library-read%20user-library-modify%20user-follow-read%20playlist-read-private%20playlist-read-collaborative%20playlist-modify-public%20playlist-modify-private%20user-follow-read%20user-library-read%20user-library-modify&response_type=token&redirect_uri=https://thanhtrungit25.github.io/react-spotify/"}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"app-container"},r.a.createElement("div",{className:"left-side-section"},r.a.createElement(z,null),r.a.createElement(X,null),r.a.createElement(K,null)),r.a.createElement("div",{className:"main-section"},r.a.createElement(pe,null),r.a.createElement("div",{className:"user-songs-container"},r.a.createElement(Z,{pauseSong:this.pauseSong,resumeSong:this.resumeSong}),r.a.createElement(le,{audioControl:this.audioControl,pauseSong:this.pauseSong,resumeSong:this.resumeSong}))),r.a.createElement(fe,{pauseSong:this.pauseSong,resumeSong:this.resumeSong,stopSong:this.stopSong})))}}]),t}(n.Component),Se=Object(o.b)(function(e){return{token:e.tokenReducer.token}},function(e){return Object(i.b)({fetchUser:O,setToken:C,playSong:j,pauseSong:H,resumeSong:F,stopSong:I},e)})(he),ye=Object(i.d)(S,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Object(i.a)(y.a));c.a.render(r.a.createElement(o.a,{store:ye},r.a.createElement(Se,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.5d175c94.chunk.js.map